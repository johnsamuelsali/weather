<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Weather | John</title>
    <link rel="stylesheet" href="/styles/main.css" />
  </head>
  <body>

    <div class="weather-card">
      <h2>ğŸŒ¦ Weather Checker</h2>

      <form action="/weather" method="post">
        <label for="cityInput">Location</label>
        <input 
          type="text" 
          id="cityInput" 
          name="location" 
          placeholder="Enter city name"
          required
        />
        <button type="submit">Submit</button>
        <a href="/" class="back-btn">Back</a>
      </form>

      <div class="display-card">

  <% if (data && data.error) { %>
    <section class="default-text">
      <p style="color:red;"><%= data.error %></p>
    </section>
  <% } %>

  <% if (data && !data.error) { %>

    <section>
      <h3>ğŸ“ Location</h3>
      <p><b><%= data.city %>, <%= data.region %></b></p>
      <p><%= data.country %></p>
      <p><%= data.time %> | <%= data.isDay %></p>
      <p>Lat: <%= data.lat %>, Lon: <%= data.lon %></p>
    </section>

    <section>
      <h3>ğŸŒ¡ Temperature</h3>
      <p>Temp: <%= data.temperature %> Â°C / <%= data.temperatureF %> Â°F</p>
      <p>Feels Like: <%= data.feelsLike %> Â°C</p>
      <p>Heat Index: <%= data.heatIndex %> Â°C</p>
      <p>Wind Chill: <%= data.windChill %> Â°C</p>
      <p>Dew Point: <%= data.dewPoint %> Â°C</p>
    </section>

    <section>
      <h3>â˜ Weather</h3>
      <p>Condition: <%= data.condition %></p>
      <p>Cloud Cover: <%= data.cloud %> %</p>
      <img src="https:<%= data.icon %>" alt="weather-icon">
    </section>

    <section>
      <h3>ğŸ’¨ Wind</h3>
      <p>Speed: <%= data.wind %> km/h</p>
      <p>Direction: <%= data.windDir %> (<%= data.windDegree %>Â°)</p>
      <p>Gust: <%= data.gust %> km/h</p>
    </section>

    <section>
      <h3>ğŸ’§ Atmosphere</h3>
      <p>Humidity: <%= data.humidity %> %</p>
      <p>Pressure: <%= data.pressure %> mb</p>
      <p>Visibility: <%= data.visibility %> km</p>
      <p>Precipitation: <%= data.precip %> mm</p>
      <p>UV Index: <%= data.uv %></p>
    </section>

    <section>
      <h3>ğŸ§ª Air Quality</h3>
      <p>CO: <%= data.airCO %></p>
      <p>NOâ‚‚: <%= data.airNO2 %></p>
      <p>PM 2.5: <%= data.airPM25 %></p>
      <p>PM 10: <%= data.airPM10 %></p>
      <p>US EPA Index: <%= data.airEPA %></p>
      <p>UK DEFRA Index: <%= data.airDefra %></p>
    </section>

  <% } %>

  <% if (!data) { %>
    <section class="default-text">
      <p>Enter a city to view weather</p>
    </section>
  <% } %>

</div>


    </div>

  </body>
</html>
